<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simon Game Progressive Web App</title>
    <meta name="author" content="sp">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="css/style.css" rel="stylesheet">

    <link href="manifest.webmanifest" rel="manifest">

</head>
<body>
<div id="installprompt">
        <a href="#" class="addtohome">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
                <title>Add to Home Screen</title>
                <path d="M420.572 256h-68.572l-96 96-96-96h-68.573l-54.857 109.714v27.428h438.857v-27.428l-54.857-109.714zM36.572 420.572h438.857v27.428h-438.857v-27.428zM283.428 173.712v-109.712h-54.857v109.712h-96l123.427 123.43 123.43-123.43h-96z"></path>
            </svg>
        </a>
    </div>
    <simon-game></simon-game>
    <script async src="app.js" type="module"></script>
    <script>  
            let deferredPrompt;
            const installPrompt = document.querySelector('#installprompt');
            const installButton = document.querySelector('#installprompt .addtohome');
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installPrompt.style.display = 'block';
                installButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    installPrompt.style.display = 'none';
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('User accepted the A2HS prompt');
                        } else {
                            console.log('User dismissed the A2HS prompt');
                        }
                        deferredPrompt = null;
                    });
                });
            });
        </script>
</body>
    </html>